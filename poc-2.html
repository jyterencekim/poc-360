<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <title>Demo: Responsive 360 Spin with Touch or Mouse</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <link rel="stylesheet" href="styles-2.css" />

    <script type="text/javascript" src="js/jquery-3.6.1.min.js"></script>
    <script type="text/javascript" src="js/jquery.touchSwipe.min.js"></script>

    <script>
      $(function () {
        var collection = "01";
        var num = 36; // the total number of images

        // Preload all the images into hidden div
        for (var i = 1; i <= num; i++) {
          var img = document.createElement("img");
          img.src = `img/${collection}/${String(i).padStart(2, "0")}.jpg`;
          document.getElementById("preload-imgs").appendChild(img);
        }

        // Control swipes using jquery.touchSwipe.min.js
        // http://labs.rampinteractive.co.uk/touchSwipe/
        var swipeOptions = {
          triggerOnTouchEnd: true,
          swipeStatus: swipeStatus,
          allowPageScroll: "auto",
          threshold: 75,
        };

        $(function () {
          imgs = $(".img-container"); // the element that will be swipeable
          imgs.swipe(swipeOptions);
        });

        function swipeStatus(event, phase, direction, distance) {
          var duration = 0;
          if (direction == "left") {
            changeImg(distance);
          } else if (direction == "right") {
            changeImgR(-distance);
          }
        }

        function changeImg(imgNum) {
          // spread it out so it doesn't load new img every single px of swipe distance
          imgNum = Math.floor(imgNum / 8);

          if (imgNum < 1) {
            imgNum += num;
          }
          if (imgNum > num) {
            imgNum -= num;
          }

          // change the image src
          document.getElementById("myImg").src = `img/${collection}/${String(
            imgNum
          ).padStart(2, "0")}.jpg`;
        }

        function changeImgR(imgNum) {
          // spread it out so it doesn't load new img every single px of swipe distance
          imgNum = Math.floor(imgNum / 8);

          var num2 = -Math.abs(num);
          if (imgNum > num2) {
            imgNum += num;
          }
          if (imgNum <= num2) {
            imgNum += num * 2;
          }

          // change the image src
          document.getElementById("myImg").src = `img/${collection}/${String(
            imgNum
          ).padStart(2, "0")}.jpg`;
        }
      });
    </script>
  </head>

  <body>
    <div class="container">
      <div id="preload-imgs"></div>
      <div class="img-container">
        <div class="img360"><img id="myImg" src="img/01/01.jpg" /></div>
      </div>
      <div class="navigator">
          <div>
            <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
          </div>
          <div>
            <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
          </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  <div>
			<img src="https://source.unsplash.com/VWcPlbHglYc" alt="" />
		  </div>
		  

    </div>
  </body>
</html>
