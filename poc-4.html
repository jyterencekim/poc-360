<!DOCTYPE html>
<html lang="en">
<head>
  <title>Demo: Responsive 360 Spin with Touch or Mouse</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <link rel="stylesheet" href="styles-2.css" />

  <script type="text/javascript" src="js/jquery-3.6.1.min.js"></script>
  <script type="text/javascript" src="js/jquery.touchSwipe.min.js"></script>

  <script type="text/javascript">
    const IMAGE_PATH = `img`;

    function pad(x) {
      return `${String(x).padStart(2, "0")}`;
    }

    function toCollectionPath(collectionNumber) {
      return `${IMAGE_PATH}/${pad(collectionNumber)}`;
    }

    function toCollectionImagePath(collection, image) {
      return `${toCollectionPath(collection)}/${pad(image)}.jpg`;
    }

    $(function () {
      const collections = 3; // how many collections there are up to
      const num = 36; // the total number of images
      var currentCollection = 1;

      var arr = [];
      for (let c = 1; c <= collections; c++) {
        for (let i = 1; i <= num; i++) {
          arr.push(toCollectionImagePath(c, i));
        }
      }

      // Preload all the images into hidden div
      for (let i = 1; i <= num; i++) {
        var img = document.createElement("img");
        img.src = toCollectionImagePath(currentCollection, i);
        document.getElementById("preload-imgs").appendChild(img);
      }

      // Control swipes using jquery.touchSwipe.min.js
      // http://labs.rampinteractive.co.uk/touchSwipe/
      var swipeOptions = {
        triggerOnTouchEnd: true,
        swipeStatus: swipeStatus,
        allowPageScroll: "auto",
        threshold: 75,
      };

      $(function () {
        imgs = $(".img-container");
        imgs.swipe(swipeOptions);
      });

      function swipeStatus(event, phase, direction, distance) {
        if (direction === "left") {
          makeRotate(distance);
        }
        makeRotateR(-distance);
      }

      function makeRotate(imgNum) {
        // spread it out so it doesn't load new img every single px of swipe distance
        imgNum = Math.floor(imgNum / 8) % num;

        if (imgNum < 1) {
          imgNum += num;
        }
        if (imgNum > num) {
          imgNum -= num;
        }

        // change the image src
        document.getElementById("myImg").src = toCollectionImagePath(currentCollection, imgNum);
      }

      function makeRotateR(imgNum) {
        // spread it out so it doesn't load new img every single px of swipe distance
        imgNum = Math.floor(imgNum / 8) % num;

        var num2 = -Math.abs(num);
        if (imgNum > num2) {
          imgNum += num;
        }
        if (imgNum <= num2) {
          imgNum += num * 2;
        }

        // change the image src
        document.getElementById("myImg").src = toCollectionImagePath(currentCollection, imgNum);
      }
    });

  </script>
</head>
<body>
<div class="container">
  <div id="preload-imgs"></div>
  <div class="img-container">
    <div class="img360"><img id="myImg" src="img/01/01.jpg" /></div>
  </div>
  <div class="navigator">
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" collection-id=1 id="img1" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" collection-id=2 />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img class="thumbnail" src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(3)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
    <div>
      <img src="https://source.unsplash.com/VWcPlbHglYc" alt="" onclick="alert(4)" />
    </div>
  </div>
</body>
</html>
